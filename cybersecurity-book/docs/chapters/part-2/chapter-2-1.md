# –ì–ª–∞–≤–∞ 2.1: –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

## üéØ –¶–µ–ª–∏ –≥–ª–∞–≤—ã

- –û—Å–≤–æ–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã Linux (FHS)
- –ü–æ–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ù–∞—É—á–∏—Ç—å—Å—è —É–≤–µ—Ä–µ–Ω–Ω–æ –Ω–∞–≤–∏–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ò–∑—É—á–∏—Ç—å —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
- –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏
- –ü–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
- –ù–∞—É—á–∏—Ç—å—Å—è –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## 2.1.1 –°—Ç–∞–Ω–¥–∞—Ä—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (FHS)

Linux —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É **Filesystem Hierarchy Standard (FHS)** ‚Äî —Å–æ–≥–ª–∞—à–µ–Ω–∏—é –æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Windows, –≥–¥–µ –∫–∞–∂–¥—ã–π –¥–∏—Å–∫ –ø–æ–ª—É—á–∞–µ—Ç –±—É–∫–≤—É (C:, D:), –≤ Linux —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å –∫–æ—Ä–Ω–µ–º `/`.

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –µ–¥–∏–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞

```text
/
‚îú‚îÄ‚îÄ bin/        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ boot/       # –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –∏ —è–¥—Ä–æ
‚îú‚îÄ‚îÄ dev/        # –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ etc/        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ home/       # –î–æ–º–∞—à–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ lib/        # –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îú‚îÄ‚îÄ media/      # –¢–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—ä—ë–º–Ω—ã—Ö –Ω–æ—Å–∏—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ mnt/        # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ opt/        # –°—Ç–æ—Ä–æ–Ω–Ω–µ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ proc/       # –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –§–°: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
‚îú‚îÄ‚îÄ root/       # –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è root
‚îú‚îÄ‚îÄ run/        # Runtime –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ sbin/       # –°–∏—Å—Ç–µ–º–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (–¥–ª—è root)
‚îú‚îÄ‚îÄ srv/        # –î–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ sys/        # –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –§–°: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏
‚îú‚îÄ‚îÄ tmp/        # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ usr/        # –í—Ç–æ—Ä–∏—á–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ var/        # –ò–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–≥–∏, –∫—ç—à, —Å–ø—É–ª)
```

> **–í–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ó–Ω–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ ‚Äî –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞ —Å–≤–æ—ë–º –º–µ—Å—Ç–µ, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç—è—Ö, –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### –§–∏–ª–æ—Å–æ—Ñ–∏—è ¬´–≤—Å—ë –µ—Å—Ç—å —Ñ–∞–π–ª¬ª

–í Linux –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å—ë –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–∞–∫ —Ñ–∞–π–ª:
- –û–±—ã—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (`/dev/sda`, `/dev/null`, `/dev/random`)
- –°–µ—Ç–µ–≤—ã–µ —Å–æ–∫–µ—Ç—ã
- –ü—Å–µ–≤–¥–æ—Ñ–∞–π–ª—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (`/proc/1/maps`)
- –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (FIFO)

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Å–∏—Å—Ç–µ–º–æ–π ‚Äî –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º —Ä–µ—Å—É—Ä—Å–æ–≤.

---

## 2.1.2 –ö–ª—é—á–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### /etc ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/etc` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã. –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç ¬´etcetera¬ª (et cetera), —Ö–æ—Ç—è —Å–µ–π—á–∞—Å —á–∞—Å—Ç–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ ¬´Editable Text Configuration¬ª.

```bash
# –í–∞–∂–Ω–µ–π—à–∏–µ —Ñ–∞–π–ª—ã /etc –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

/etc/passwd          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
/etc/shadow          # –•—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π (—Ç–æ–ª—å–∫–æ root)
/etc/group           # –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
/etc/gshadow         # –•—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –≥—Ä—É–ø–ø
/etc/sudoers         # –ü—Ä–∞–≤–∏–ª–∞ sudo
/etc/sudoers.d/      # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ sudo
/etc/hosts           # –õ–æ–∫–∞–ª—å–Ω—ã–π DNS
/etc/hostname        # –ò–º—è —Ö–æ—Å—Ç–∞
/etc/resolv.conf     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ DNS-—Ä–µ–∑–æ–ª–≤–µ—Ä–∞
/etc/ssh/sshd_config # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH-—Å–µ—Ä–≤–µ—Ä–∞
/etc/crontab         # –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è cron
/etc/cron.d/         # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è cron
/etc/pam.d/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PAM (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
/etc/security/       # –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ PAM
/etc/sysctl.conf     # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —è–¥—Ä–∞
/etc/ld.so.conf      # –ü—É—Ç–∏ –ø–æ–∏—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
/etc/profile         # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –æ–±–æ–ª–æ—á–∫–∏
/etc/profile.d/      # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ—Ñ–∏–ª—è
/etc/bash.bashrc     # –°–∏—Å—Ç–µ–º–Ω—ã–π bashrc
/etc/environment     # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ /etc/passwd:**

```text
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
user:x:1000:1000:User Name,,,:/home/user:/bin/bash
```

–ü–æ–ª—è: `–ª–æ–≥–∏–Ω:–ø–∞—Ä–æ–ª—å:UID:GID:–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:–¥–æ–º–∞—à–Ω—è—è_–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:–æ–±–æ–ª–æ—á–∫–∞`

–°–∏–º–≤–æ–ª `x` –≤ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `/etc/shadow`.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ /etc/shadow:**

```text
root:$6$rounds=656000$salt$hash...:18000:0:99999:7:::
user:$6$rounds=656000$anothersalt$anotherhash...:18500:0:99999:7:::
```

–ü–æ–ª—è: `–ª–æ–≥–∏–Ω:—Ö—ç—à:–¥–∞—Ç–∞_—Å–º–µ–Ω—ã:–º–∏–Ω_–¥–Ω–∏:–º–∞–∫—Å_–¥–Ω–∏:–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:–Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:–∏—Å—Ç–µ—á–µ–Ω–∏–µ:–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ`

> **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** `/etc/shadow` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ root (–ø—Ä–∞–≤–∞ 640 –∏–ª–∏ 000). –ï—Å–ª–∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª —á–∏—Ç–∞–µ–º –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî —ç—Ç–æ —Å–µ—Ä—å—ë–∑–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å. –ü—Ä–æ–≤–µ—Ä–∫–∞: `ls -la /etc/shadow`

### /var ‚Äî –∏–∑–º–µ–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

```bash
/var/log/           # –õ–æ–≥-—Ñ–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã
/var/log/auth.log   # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Ubuntu/Debian)
/var/log/secure     # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (RHEL/CentOS)
/var/log/syslog     # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
/var/log/kern.log   # –°–æ–æ–±—â–µ–Ω–∏—è —è–¥—Ä–∞
/var/log/apache2/   # –õ–æ–≥–∏ Apache
/var/log/nginx/     # –õ–æ–≥–∏ Nginx
/var/log/mysql/     # –õ–æ–≥–∏ MySQL
/var/log/audit/     # –õ–æ–≥–∏ auditd
/var/spool/cron/    # –ó–∞–¥–∞–Ω–∏—è cron –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
/var/www/           # –í–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
/var/tmp/           # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ)
/var/run/           # PID-—Ñ–∞–π–ª—ã –∏ —Å–æ–∫–µ—Ç—ã –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
/var/lib/           # –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```

### /home ‚Äî –¥–æ–º–∞—à–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
/home/alice/          # –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è alice
/home/alice/.bashrc   # –ö–æ–Ω—Ñ–∏–≥ –æ–±–æ–ª–æ—á–∫–∏
/home/alice/.ssh/     # SSH-–∫–ª—é—á–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
/home/alice/.ssh/authorized_keys  # –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏
/home/alice/.ssh/id_rsa           # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π!)
/home/alice/.bash_history         # –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
/home/alice/.profile              # –ü—Ä–æ—Ñ–∏–ª—å –≤—Ö–æ–¥–∞
```

> **–í–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –§–∞–π–ª `.bash_history` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –ø–µ—Ä–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç `history -c` –∏–ª–∏ `unset HISTFILE` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–ª–µ–¥–æ–≤.

### /tmp ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```bash
# –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ /tmp:
# - –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (–æ–±—ã—á–Ω–æ)
# - –ó–∞–ø–∏—Å—ã–≤–∞–µ–º–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
# - –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–º –ü–û –∫–∞–∫ —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
# - –ú–æ–∂–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Ñ–ª–∞–≥–æ–º noexec –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ /tmp:
ls -la /tmp/
ls -la /var/tmp/

# –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ /tmp (–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ!):
find /tmp -type f -executable
find /var/tmp -type f -executable
```

### /proc ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

```bash
/proc/                    # –ö–æ—Ä–µ–Ω—å procfs
/proc/1/                  # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å PID 1
/proc/1/cmdline           # –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
/proc/1/environ           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
/proc/1/fd/               # –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–∞
/proc/1/maps              # –ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
/proc/1/net/              # –°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
/proc/cpuinfo             # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ
/proc/meminfo             # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
/proc/net/tcp             # TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
/proc/net/tcp6            # TCP6-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
/proc/net/udp             # UDP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
/proc/net/arp             # ARP-—Ç–∞–±–ª–∏—Ü–∞
/proc/sys/                # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —è–¥—Ä–∞ (sysctl)
/proc/sys/net/ipv4/       # –°–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã IPv4
/proc/sys/kernel/         # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —è–¥—Ä–∞
```

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ /proc:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ /proc:
cat /proc/net/tcp

# –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è hex-–∞–¥—Ä–µ—Å–æ–≤ –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:
# –ü–æ–ª–µ rem_address: 0100007F:0035 = 127.0.0.1:53
python3 -c "
import socket, struct
hex_addr = '0100007F'
hex_port = '0035'
addr = socket.inet_ntoa(struct.pack('<L', int(hex_addr, 16)))
port = int(hex_port, 16)
print(f'{addr}:{port}')
"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:
sudo cat /proc/1234/environ | tr '\0' '\n'

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞:
ls -la /proc/1234/fd/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–º:
ls -la /proc/1234/fd/ | grep deleted
cp /proc/1234/fd/3 /tmp/recovered_file
```

### /sys ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ sysfs

```bash
/sys/class/net/       # –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
/sys/class/net/eth0/  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ eth0
/sys/block/           # –ë–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
/sys/bus/             # –®–∏–Ω—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤
/sys/kernel/          # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —è–¥—Ä–∞

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:
ls /sys/class/net/

# MAC-–∞–¥—Ä–µ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
cat /sys/class/net/eth0/address

# –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
cat /sys/class/net/eth0/operstate
```

---

## 2.1.3 –ö–æ–º–∞–Ω–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### pwd ‚Äî —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

```bash
pwd
# /home/user

# –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å (–±–µ–∑ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫):
pwd -P

# –ü—Ä–∏–º–µ—Ä —Å —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–æ–π:
ln -s /var/log ~/mylog
cd ~/mylog
pwd        # /home/user/mylog (–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å)
pwd -P     # /var/log (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å)
```

### cd ‚Äî —Å–º–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
cd /etc              # –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è
cd Documents         # –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
cd ..                # –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
cd ../..             # –ù–∞ –¥–≤–∞ —É—Ä–æ–≤–Ω—è –≤–≤–µ—Ä—Ö
cd ~                 # –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
cd -                 # –ü—Ä–µ–¥—ã–¥—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

# –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∏—ë–º—ã:
cd /var/log && pwd   # –ü–µ—Ä–µ–π—Ç–∏ –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
pushd /etc           # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ —Å—Ç–µ–∫ –∏ –ø–µ—Ä–µ–π—Ç–∏
popd                 # –í–µ—Ä–Ω—É—Ç—å—Å—è –∏–∑ —Å—Ç–µ–∫–∞
dirs                 # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–µ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

# –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º (Tab):
cd /etc/ss[Tab]      # –î–æ–ø–æ–ª–Ω–∏—Ç –¥–æ /etc/ssh/ –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

### ls ‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ü–∏–∏:
ls                   # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
ls -l                # –î–ª–∏–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
ls -la               # –í–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã
ls -lh               # –†–∞–∑–º–µ—Ä—ã –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
ls -lt               # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
ls -ltr              # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–æ–±—Ä–∞—Ç–Ω–∞—è ‚Äî –Ω–æ–≤—ã–µ –≤ –∫–æ–Ω—Ü–µ)
ls -lS               # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É
ls -R                # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫
ls -ld /etc          # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–º–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -lai              # –° inode-–Ω–æ–º–µ—Ä–∞–º–∏
ls -1                # –ü–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É –Ω–∞ —Å—Ç—Ä–æ–∫—É
ls --color=auto      # –° —Ü–≤–µ—Ç–æ–≤–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π

# –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
ls -la /etc/shadow    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ shadow
ls -la /tmp/          # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ /tmp
ls -lta /var/log/     # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –ª–æ–≥–∏
ls -la /root/         # –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ root
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –≤—ã–≤–æ–¥–∞ ls -l:**

```text
-rwxr-xr-- 2 root security 4096 Jan 15 10:30 script.sh
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îî‚îÄ –ò–º—è —Ñ–∞–π–ª–∞
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îú‚îÄ‚îÄ‚îÄ‚îÄ –ü—Ä–æ–±–µ–ª, –≥—Ä—É–ø–ø–∞ (security), –¥–∞—Ç–∞, –≤—Ä–µ–º—è
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ (2)
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ü—Ä–∞–≤–∞ –≥—Ä—É–ø–ø—ã (r-x = —á—Ç–µ–Ω–∏–µ+–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
‚îÇ‚îÇ‚îÇ
‚îÇ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ü—Ä–∞–≤–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (r-- = —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –¢–∏–ø –∏ –ø—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
            - = –æ–±—ã—á–Ω—ã–π —Ñ–∞–π–ª
            d = –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
            l = —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞
            c = —Å–∏–º–≤–æ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            b = –±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            p = –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª (FIFO)
            s = —Å–æ–∫–µ—Ç
            rwx = —á—Ç–µ–Ω–∏–µ+–∑–∞–ø–∏—Å—å+–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```

### find ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤

–ö–æ–º–∞–Ω–¥–∞ `find` ‚Äî –æ–¥–∏–Ω –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

```bash
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å: find [–ø—É—Ç—å] [–∫—Ä–∏—Ç–µ—Ä–∏–∏] [–¥–µ–π—Å—Ç–≤–∏–µ]

# –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏:
find /etc -name "*.conf"
find /home -name "*.bash_history"
find / -name "id_rsa" 2>/dev/null    # –ü–æ–∏—Å–∫ SSH-–∫–ª—é—á–µ–π

# –ü–æ–∏—Å–∫ –ø–æ —Ç–∏–ø—É:
find /tmp -type f          # –¢–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã
find /etc -type d          # –¢–æ–ª—å–∫–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
find /dev -type c          # –°–∏–º–≤–æ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
find /dev -type b          # –ë–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
find / -type l             # –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏

# –ü–æ–∏—Å–∫ –ø–æ –ø—Ä–∞–≤–∞–º (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!):
find / -perm -4000 2>/dev/null   # –§–∞–π–ª—ã —Å SUID –±–∏—Ç–æ–º
find / -perm -2000 2>/dev/null   # –§–∞–π–ª—ã —Å SGID –±–∏—Ç–æ–º
find / -perm -0002 2>/dev/null   # –§–∞–π–ª—ã, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –≤—Å–µ–º–∏
find / -perm 777 2>/dev/null     # –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –≤—Å–µ—Ö

# –ü–æ–∏—Å–∫ –ø–æ –≤–ª–∞–¥–µ–ª—å—Ü—É:
find / -user root -perm -4000 2>/dev/null    # SUID —Ñ–∞–π–ª—ã root
find /home -user www-data 2>/dev/null        # –§–∞–π–ª—ã www-data –≤ home
find / -nouser 2>/dev/null                   # –§–∞–π–ª—ã –±–µ–∑ –≤–ª–∞–¥–µ–ª—å—Ü–∞
find / -nogroup 2>/dev/null                  # –§–∞–π–ª—ã –±–µ–∑ –≥—Ä—É–ø–ø—ã

# –ü–æ–∏—Å–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:
find /var/log -mtime -1        # –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
find /tmp -mmin -60            # –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
find / -newer /etc/passwd      # –ù–æ–≤–µ–µ —á–µ–º /etc/passwd
find /var/www -atime +30       # –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–ª–∏—Å—å 30+ –¥–Ω–µ–π

# –ü–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–º–µ—Ä—É:
find / -size +100M             # –ë–æ–ª—å—à–µ 100 –ú–ë
find /tmp -size +10M           # –ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –≤ /tmp (–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ)
find / -size 0                 # –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–∏–π:
find /etc -name "*.conf" -user root -readable
find / -perm -4000 -user root -type f 2>/dev/null

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π:
find /tmp -type f -mtime +7 -delete          # –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
find / -name "*.py" -exec grep -l "import os" {} \;  # –ü–æ–∏—Å–∫ Python-—Ñ–∞–π–ª–æ–≤ —Å os
find /var/log -name "*.log" -exec wc -l {} \;        # –ü–æ–¥—Å—á—ë—Ç —Å—Ç—Ä–æ–∫ –≤ –ª–æ–≥–∞—Ö

# –ü–æ–∏—Å–∫ —Å xargs (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤):
find /etc -name "*.conf" -print0 | xargs -0 grep -l "password"
```

### locate ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö locate:
sudo updatedb

# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤:
locate passwd
locate "*.conf"
locate -i "README"    # –ë–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
locate -n 20 "*.log"

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
locate -e "*.conf"

# –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º:
locate -r "^/etc/.*\.conf$"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
locate -S
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `locate` —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ `find`, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–π. `find` –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

---

## 2.1.4 –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –≤ Linux

Linux —Ä–∞–∑–ª–∏—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤:

| –°–∏–º–≤–æ–ª | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä |
|--------|-----|--------|
| `-` | –û–±—ã—á–Ω—ã–π —Ñ–∞–π–ª | `/etc/hosts` |
| `d` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è | `/etc/ssh/` |
| `l` | –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ | `/bin -> /usr/bin` |
| `c` | –°–∏–º–≤–æ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | `/dev/tty` |
| `b` | –ë–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | `/dev/sda` |
| `p` | –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª | `/var/run/mysqld.sock` (–∏–Ω–æ–≥–¥–∞) |
| `s` | –°–æ–∫–µ—Ç Unix | `/var/run/docker.sock` |

```bash
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞:
file /bin/bash          # ELF 64-bit LSB executable
file /etc/hosts         # ASCII text
file /dev/sda           # block special
file /tmp/mystery       # –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Ç–∏–ø –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∏–ø–∞ —á–µ—Ä–µ–∑ ls:
ls -la /bin/bash        # - (–æ–±—ã—á–Ω—ã–π —Ñ–∞–π–ª)
ls -la /etc             # d (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)
ls -la /bin             # l -> usr/bin (—Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞)
ls -la /dev/sda         # b (–±–ª–æ—á–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)

# stat ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ:
stat /etc/passwd
# File: /etc/passwd
# Size: 2847        Blocks: 8     IO Block: 4096   regular file
# Device: fd00h/64768d  Inode: 917505    Links: 1
# Access: (0644/-rw-r--r--)  Uid: (0/root)   Gid: (0/root)
# Access: 2024-01-15 10:30:00
# Modify: 2024-01-10 15:22:00
# Change: 2024-01-10 15:22:00
```

---

## 2.1.5 –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –î–µ–≤—è—Ç–∏–±–∏—Ç–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–∞–≤

```text
rwxrwxrwx
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îî‚îò‚îî‚îÄ –ü—Ä–∞–≤–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (others)
‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ‚îÇ
‚îÇ‚îÇ‚îÇ‚îî‚î§‚îî‚îÄ‚îÄ‚îÄ‚îÄ –ü—Ä–∞–≤–∞ –≥—Ä—É–ø–ø—ã (group)
‚îÇ‚îÇ‚îÇ ‚îÇ
‚îî‚î§‚îî‚îÄ‚îò‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ü—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (user/owner)
 ‚îÇ
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ r=—á—Ç–µ–Ω–∏–µ(4), w=–∑–∞–ø–∏—Å—å(2), x=–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ(1)
```

```bash
# –ß–∏—Å–ª–æ–≤–∞—è (–≤–æ—Å—å–º–µ—Ä–∏—á–Ω–∞—è) –∑–∞–ø–∏—Å—å:
chmod 755 file    # rwxr-xr-x
chmod 644 file    # rw-r--r--
chmod 600 file    # rw-------
chmod 777 file    # rwxrwxrwx (–æ–ø–∞—Å–Ω–æ!)
chmod 400 file    # r--------

# –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å:
chmod u+x file    # –î–æ–±–∞–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
chmod g-w file    # –£–±—Ä–∞—Ç—å –∑–∞–ø–∏—Å—å –¥–ª—è –≥—Ä—É–ø–ø—ã
chmod o=r file    # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
chmod a+r file    # –î–æ–±–∞–≤–∏—Ç—å —á—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö (all)
chmod u=rwx,g=rx,o= file  # –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

# –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
# 700 ‚Äî —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)
# 600 ‚Äî —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü —á–∏—Ç–∞–µ—Ç/–ø–∏—à–µ—Ç (SSH –∫–ª—é—á–∏, –∫–æ–Ω—Ñ–∏–≥–∏ —Å –ø–∞—Ä–æ–ª—è–º–∏)
# 644 ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü –ø–∏—à–µ—Ç, –≤—Å–µ —á–∏—Ç–∞—é—Ç (–æ–±—ã—á–Ω—ã–µ —Ñ–∞–π–ª—ã)
# 755 ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü –ø–∏—à–µ—Ç, –≤—Å–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç (—Å–∫—Ä–∏–ø—Ç—ã, –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã)
# 400 ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º (–ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
```

### –°–º–µ–Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ –≥—Ä—É–ø–ø—ã

```bash
# chown ‚Äî —Å–º–µ–Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
chown root:root /etc/shadow
chown alice file.txt
chown alice:developers file.txt
chown -R alice /home/alice    # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ

# chgrp ‚Äî —Å–º–µ–Ω–∞ –≥—Ä—É–ø–ø—ã:
chgrp developers project/
chgrp -R www-data /var/www/html
```

---

## 2.1.6 –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏

```bash
# –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /:
/etc/ssh/sshd_config
/home/alice/.bashrc
/var/log/auth.log

# –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
# –ï—Å–ª–∏ –º—ã –≤ /etc:
ssh/sshd_config          # = /etc/ssh/sshd_config
../home/alice/.bashrc    # = /home/alice/.bashrc
./hosts                  # = /etc/hosts

# –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –ø—É—Ç–µ–π:
.    # –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
..   # –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
~    # –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
~alice  # –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è alice
-    # –ü—Ä–µ–¥—ã–¥—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–¥–ª—è cd)

# –ü—Ä–∏–º–µ—Ä—ã:
cat ./config.txt           # –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
cat ../sibling/config.txt  # –°–æ—Å–µ–¥–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
cat ~/documents/notes.txt  # –ò–∑ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```

---

## 2.1.7 –°–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

–í Linux —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å —Ç–æ—á–∫–∏ (`.`), —Å—á–∏—Ç–∞—é—Ç—Å—è —Å–∫—Ä—ã—Ç—ã–º–∏.

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤:
ls -la ~              # –í—Å–µ —Ñ–∞–π–ª—ã –≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ
ls -la ~ | grep "^\."  # –¢–æ–ª—å–∫–æ —Å–∫—Ä—ã—Ç—ã–µ

# –¢–∏–ø–∏—á–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
.bashrc               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è bash
.bash_profile         # –ü—Ä–æ—Ñ–∏–ª—å bash (–ø—Ä–∏ –≤—Ö–æ–¥–µ)
.bash_history         # –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
.ssh/                 # SSH-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
.ssh/authorized_keys  # –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –∫–ª—é—á–∏
.ssh/known_hosts      # –ò–∑–≤–µ—Å—Ç–Ω—ã–µ —Ö–æ—Å—Ç—ã
.ssh/config           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH-–∫–ª–∏–µ–Ω—Ç–∞
.gnupg/               # GPG-–∫–ª—é—á–∏
.profile              # –ü—Ä–æ—Ñ–∏–ª—å –æ–±–æ–ª–æ—á–∫–∏
.vimrc                # –ö–æ–Ω—Ñ–∏–≥ Vim
.gitconfig            # –ö–æ–Ω—Ñ–∏–≥ Git
.aws/                 # –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ AWS (–æ–ø–∞—Å–Ω–æ!)
.docker/              # –ö–æ–Ω—Ñ–∏–≥ Docker
.kube/                # –ö–æ–Ω—Ñ–∏–≥ Kubernetes
.netrc                # –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ FTP/HTTP

# –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –≤–æ –≤—Å–µ—Ö –¥–æ–º–∞—à–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:
find /home -name ".*" -type f 2>/dev/null
find /root -name ".*" -type f 2>/dev/null

# –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ ‚Äî AWS credentials:
find / -name "credentials" -path "*/.aws/*" 2>/dev/null
find / -name ".env" 2>/dev/null | head -20
```

> **–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –§–∞–π–ª `.aws/credentials` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ AWS. –§–∞–π–ª `.ssh/id_rsa` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö ‚Äî —Å–µ—Ä—å—ë–∑–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π —Ñ–ª–∞–≥ –ø—Ä–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.

---

## 2.1.8 –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ –∏ –∂—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏

### –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ (symlinks)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–∏:
ln -s /etc/nginx/sites-enabled/default /tmp/nginx_config
ln -s /var/log/auth.log ~/auth_log

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫:
ls -la /bin    # /bin -> usr/bin (—Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞)
ls -la /lib    # /lib -> usr/lib

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—É–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫–∞:
readlink /bin
readlink -f /bin    # –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏

# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫:
find /etc -type l
find / -type l -name "*.conf" 2>/dev/null

# –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫:
# –°—Å—ã–ª–∫–∏, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å–≤–æ–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
find /tmp -type l 2>/dev/null
find /var/www -type l 2>/dev/null    # Symlink traversal –≤ –≤–µ–±-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
```

### –ñ—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∂—ë—Å—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏:
ln /etc/passwd /tmp/passwd_copy

# –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫:
# - –£–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω inode
# - –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Å—ã–ª–∫–∏ –Ω–µ —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
# - –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (–æ–±—ã—á–Ω–æ)
# - –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

# –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π inode):
ls -lai /etc/passwd /tmp/passwd_copy
# –ï—Å–ª–∏ inode –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π ‚Äî —ç—Ç–æ –∂—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏

# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∂—ë—Å—Ç–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏:
find / -links +1 -not -type d 2>/dev/null | head -20
```

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–º–∏ –∏ –∂—ë—Å—Ç–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏:**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è | –ñ—ë—Å—Ç–∫–∞—è |
|----------------|--------------|---------|
| –†–∞–∑–Ω—ã–µ –§–° | –î–∞ | –ù–µ—Ç |
| –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é | –î–∞ | –ù–µ—Ç (–æ–±—ã—á–Ω–æ) |
| –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ü–µ–ª–∏ | –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±–æ—Ä–≤–∞–Ω–Ω–æ–π | –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è |
| –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ | –ü—É—Ç—å | Inode |
| –í–∏–¥–Ω–∞ –≤ ls -l | –î–∞ (l –∏ -> ) | –ù–µ—Ç |

---

## 2.1.9 –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

### –û—Å–Ω–æ–≤—ã –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –§–°:
mount                          # –í—Å–µ —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
mount | grep -v "^devtmpfs\|^proc\|^sysfs"  # –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ
df -h                          # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
df -Th                         # –° —Ç–∏–ø–∞–º–∏ –§–°
lsblk                          # –ë–ª–æ—á–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
cat /proc/mounts               # –°–ø–∏—Å–æ–∫ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ —è–¥—Ä–∞
cat /etc/fstab                 # –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
sudo mount /dev/sdb1 /mnt/data
sudo mount -t ext4 /dev/sdb1 /mnt/data
sudo mount -o ro /dev/sdb1 /mnt/data    # –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ

# –†–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
sudo umount /mnt/data
sudo umount /dev/sdb1

# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–ø—Ü–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
sudo mount -o noexec,nosuid,nodev /dev/sdb1 /mnt/data
```

**–§–∞–π–ª /etc/fstab:**

```text
# <–§–°>            <—Ç–æ—á–∫–∞>    <—Ç–∏–ø>  <–æ–ø—Ü–∏–∏>           <dump> <pass>
UUID=abc123       /          ext4   defaults            0      1
UUID=def456       /home      ext4   defaults,nodev      0      2
UUID=ghi789       /tmp       ext4   defaults,nodev,nosuid,noexec  0  2
tmpfs             /tmp       tmpfs  defaults,nodev,nosuid,noexec  0  0
/dev/sdb1         /data      ext4   defaults            0      2
```

> **–í–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –û–ø—Ü–∏–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `noexec` (–∑–∞–ø—Ä–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è), `nosuid` (–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å SUID/SGID –±–∏—Ç—ã), `nodev` (–∑–∞–ø—Ä–µ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤) –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –û—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —ç—Ç–∏ –æ–ø—Ü–∏–∏ –∫ `/tmp`, `/home` –∏ –≤–Ω–µ—à–Ω–∏–º –Ω–æ—Å–∏—Ç–µ–ª—è–º.

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ü–∏–π –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
findmnt /tmp
# TARGET SOURCE FSTYPE OPTIONS
# /tmp   tmpfs  tmpfs  rw,nosuid,nodev,noexec,relatime

# –ü–æ–∏—Å–∫ –§–° –±–µ–∑ –∑–∞—â–∏—Ç–Ω—ã—Ö –æ–ø—Ü–∏–π:
findmnt -lo TARGET,OPTIONS | grep -v noexec
```

---

## 2.1.10 –ü—É—Ç–∏, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—É—Ç–µ–π –¥–ª—è –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# === –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø –ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø ===
/etc/passwd              # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
/etc/shadow              # –•—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π
/etc/group               # –ì—Ä—É–ø–ø—ã
/etc/gshadow             # –•—ç—à–∏ –ø–∞—Ä–æ–ª–µ–π –≥—Ä—É–ø–ø
/etc/sudoers             # –ü—Ä–∞–≤–∏–ª–∞ sudo
/etc/sudoers.d/          # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ sudo
/etc/pam.d/              # –ú–æ–¥—É–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
/etc/security/limits.conf  # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

# === –°–ï–¢–¨ ===
/etc/hosts               # –õ–æ–∫–∞–ª—å–Ω—ã–π DNS
/etc/resolv.conf         # DNS-—Å–µ—Ä–≤–µ—Ä—ã
/etc/network/interfaces  # –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Debian)
/etc/netplan/            # –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Ubuntu 18+)
/etc/hosts.allow         # TCP Wrappers: —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã
/etc/hosts.deny          # TCP Wrappers: –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã
/etc/iptables/           # –ü—Ä–∞–≤–∏–ª–∞ iptables

# === SSH ===
/etc/ssh/sshd_config     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH-—Å–µ—Ä–≤–µ—Ä–∞
/etc/ssh/ssh_config      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH-–∫–ª–∏–µ–Ω—Ç–∞
/etc/ssh/authorized_keys # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ (—Ä–µ–¥–∫–æ)
~/.ssh/authorized_keys   # –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
~/.ssh/known_hosts       # –ò–∑–≤–µ—Å—Ç–Ω—ã–µ —Ö–æ—Å—Ç—ã
~/.ssh/config            # –ö–æ–Ω—Ñ–∏–≥ –∫–ª–∏–µ–Ω—Ç–∞

# === –ü–õ–ê–ù–ò–†–û–í–©–ò–ö –ó–ê–î–ê–ß ===
/etc/crontab             # –°–∏—Å—Ç–µ–º–Ω—ã–π crontab
/etc/cron.d/             # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è cron
/etc/cron.hourly/        # –ï–∂–µ—á–∞—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
/etc/cron.daily/         # –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
/etc/cron.weekly/        # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
/etc/cron.monthly/       # –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
/var/spool/cron/         # –ó–∞–¥–∞–Ω–∏—è cron –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
/var/spool/cron/crontabs/  # (Ubuntu)

# === –ê–í–¢–û–ó–ê–ì–†–£–ó–ö–ê ===
/etc/rc.local            # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
/etc/init.d/             # Init-—Å–∫—Ä–∏–ø—Ç—ã
/etc/systemd/system/     # Systemd-—é–Ω–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã
~/.config/systemd/user/  # Systemd-—é–Ω–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/etc/profile.d/          # –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É
~/.bashrc                # –ö–æ–Ω—Ñ–∏–≥ bash (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å backdoor)
~/.bash_profile          # –ü—Ä–æ—Ñ–∏–ª—å bash

# === –õ–û–ì–ò ===
/var/log/auth.log        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
/var/log/syslog          # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
/var/log/kern.log        # –°–æ–æ–±—â–µ–Ω–∏—è —è–¥—Ä–∞
/var/log/lastlog         # –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—Ö–æ–¥—ã
/var/log/wtmp            # –í—Å–µ –≤—Ö–æ–¥—ã/–≤—ã—Ö–æ–¥—ã
/var/log/btmp            # –ù–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã
/var/log/audit/audit.log # Auditd –ª–æ–≥
/var/log/apache2/        # –õ–æ–≥–∏ Apache
/var/log/nginx/          # –õ–æ–≥–∏ Nginx

# === –í–ï–†–†O–£–Ø–ó–í–ò–ú–´–ï –ú–ï–°–¢–ê ===
/tmp/                    # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
/var/tmp/                # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ)
/dev/shm/                # –†–∞–∑–¥–µ–ª—è–µ–º–∞—è –ø–∞–º—è—Ç—å
/proc/*/fd/              # –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```

### –°–∫—Ä–∏–ø—Ç –∞—É–¥–∏—Ç–∞ –ø—É—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
#!/bin/bash
# security_audit_paths.sh ‚Äî –±—ã—Å—Ç—Ä—ã–π –∞—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç–µ–π

echo "=== –ê–£–î–ò–¢ –ü–†–ê–í –ö–†–ò–¢–ò–ß–ù–´–• –§–ê–ô–õ–û–í ==="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ /etc/shadow
SHADOW_PERMS=$(stat -c "%a %U %G" /etc/shadow 2>/dev/null)
echo "–ü—Ä–∞–≤–∞ /etc/shadow: $SHADOW_PERMS"
if [[ "$SHADOW_PERMS" != "640 root shadow" && "$SHADOW_PERMS" != "0 root shadow" ]]; then
    echo "[–í–ù–ò–ú–ê–ù–ò–ï] –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ /etc/shadow!"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ /etc/passwd
PASSWD_PERMS=$(stat -c "%a %U %G" /etc/passwd)
echo "–ü—Ä–∞–≤–∞ /etc/passwd: $PASSWD_PERMS"

# –ü–æ–∏—Å–∫ SUID —Ñ–∞–π–ª–æ–≤
echo -e "\n=== –§–ê–ô–õ–´ –° SUID –ë–ò–¢–û–ú ==="
find / -perm -4000 -type f 2>/dev/null | sort

# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –≤–ª–∞–¥–µ–ª—å—Ü–∞
echo -e "\n=== –§–ê–ô–õ–´ –ë–ï–ó –í–õ–ê–î–ï–õ–¨–¶–ê ==="
find / -nouser -o -nogroup 2>/dev/null | head -20

# –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ /tmp
echo -e "\n=== –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ï –§–ê–ô–õ–´ –í /tmp ==="
find /tmp /var/tmp /dev/shm -type f -executable 2>/dev/null

# –ú–∏—Ä–æ–≤–∞—è –∑–∞–ø–∏—Å—ã–≤–∞–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
echo -e "\n=== –°–ò–°–¢–ï–ú–ù–´–ï –î–ò–†–ï–ö–¢–û–†–ò–ò –° –ü–†–ê–í–û–ú –ó–ê–ü–ò–°–ò –î–õ–Ø –í–°–ï–• ==="
find /etc /usr /bin /sbin -perm -o+w 2>/dev/null
```

---

## 2.1.11 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—ã—Å—Ç—Ä–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ

```bash
#!/bin/bash
# first_look.sh ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –æ—Å–º–æ—Ç—Ä —Å–∏—Å—Ç–µ–º—ã

echo "=== –ë–ê–ó–û–í–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø ==="
uname -a                         # –í–µ—Ä—Å–∏—è —è–¥—Ä–∞
cat /etc/os-release              # –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤
hostname                         # –ò–º—è —Ö–æ—Å—Ç–∞
date                             # –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è

echo -e "\n=== –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò ==="
cat /etc/passwd | grep -v nologin | grep -v false
echo "–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: $(whoami)"
echo "ID: $(id)"
echo "–ì—Ä—É–ø–ø—ã: $(groups)"

echo -e "\n=== –ü–û–°–õ–ï–î–ù–ò–ï –í–•–û–î–´ –í –°–ò–°–¢–ï–ú–£ ==="
last -n 10

echo -e "\n=== –¢–ï–ö–£–©–ò–ï –°–ï–°–°–ò–ò ==="
w

echo -e "\n=== –î–ò–°–ö–û–í–û–ï –ü–†–û–°–¢–†–ê–ù–°–¢–í–û ==="
df -h

echo -e "\n=== –¢–û–ß–ö–ò –ú–û–ù–¢–ò–†–û–í–ê–ù–ò–Ø ==="
mount | grep -E "^/dev"

echo -e "\n=== –°–û–î–ï–†–ñ–ò–ú–û–ï /tmp ==="
ls -la /tmp/
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
#!/bin/bash
# find_suspicious.sh ‚Äî –ø–æ–∏—Å–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

echo "=== –ù–ï–î–ê–í–ù–û –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´ –í –°–ò–°–¢–ï–ú–ù–´–• –î–ò–†–ï–ö–¢–û–†–ò–Ø–• ==="
find /bin /sbin /usr/bin /usr/sbin -newer /etc/passwd -type f 2>/dev/null

echo -e "\n=== –ò–°–ü–û–õ–ù–Ø–ï–ú–´–ï –§–ê–ô–õ–´ –í–ù–ï –°–¢–ê–ù–î–ê–†–¢–ù–´–• –ü–£–¢–ï–ô ==="
find /tmp /var/tmp /dev/shm /home -type f -executable 2>/dev/null

echo -e "\n=== –§–ê–ô–õ–´ –° –ù–ï–û–ë–´–ß–ù–´–ú–ò –ò–ú–ï–ù–ê–ú–ò ==="
find / -name ".*" -not -path "/proc/*" -not -path "/sys/*" \
    -type f -perm -o+x 2>/dev/null | head -20

echo -e "\n=== –ë–û–õ–¨–®–ò–ï –§–ê–ô–õ–´ –í /tmp ==="
find /tmp /var/tmp -type f -size +1M 2>/dev/null

echo -e "\n=== –°–ö–†–´–¢–´–ï –î–ò–†–ï–ö–¢–û–†–ò–ò ==="
find / -type d -name ".*" -not -path "/proc/*" \
    -not -path "/sys/*" 2>/dev/null | grep -v "^/home\|^/root"

echo -e "\n=== –§–ê–ô–õ–´ MTIME != CTIME (–≤–æ–∑–º–æ–∂–Ω–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è) ==="
# –§–∞–π–ª—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö mtime –∏ ctime —Å–∏–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è
find /usr/bin /usr/sbin /bin /sbin -type f 2>/dev/null | while read f; do
    mtime=$(stat -c "%Y" "$f")
    ctime=$(stat -c "%Z" "$f")
    diff=$((ctime - mtime))
    if [ $diff -gt 86400 ]; then  # —Ä–∞–∑–Ω–∏—Ü–∞ –±–æ–ª—å—à–µ —Å—É—Ç–æ–∫
        echo "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ: $f (—Ä–∞–∑–Ω–∏—Ü–∞ ctime-mtime: ${diff}—Å)"
    fi
done
```

---

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±—ä—è—Å–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```bash
# 1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç–∏–ø –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:
file /bin/ls
file /etc/passwd
file /dev/sda
file /proc/1/cmdline
file /tmp

# 2. –ò–∑—É—á–∏—Ç–µ inode-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
ls -lai /bin/sh /bin/bash /bin/dash
# –í–æ–ø—Ä–æ—Å: –Ø–≤–ª—è—é—Ç—Å—è –ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –∂—ë—Å—Ç–∫–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏?

# 3. –ò—Å—Å–ª–µ–¥—É–π—Ç–µ /proc:
cat /proc/version
cat /proc/uptime
cat /proc/loadavg
ls /proc/ | grep -E "^[0-9]+$" | wc -l    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

# 4. –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã SSH:
find /etc /home /root -name "*ssh*" -o -name "*authorized_keys*" 2>/dev/null
```

### –ó–∞–¥–∞–Ω–∏–µ 2: –ê—É–¥–∏—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# 1. –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ SUID-—Ñ–∞–π–ª—ã –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –∑–∞–ø–∏—à–∏—Ç–µ –∏—Ö —Å–ø–∏—Å–æ–∫:
find / -perm -4000 -type f 2>/dev/null | sort > /tmp/suid_files.txt
cat /tmp/suid_files.txt
# –í–æ–ø—Ä–æ—Å: –ö–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö —è–≤–ª—è—é—Ç—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏?

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
stat /etc/passwd /etc/shadow /etc/sudoers /etc/ssh/sshd_config
# –û–∂–∏–¥–∞–µ–º—ã–µ –ø—Ä–∞–≤–∞:
# /etc/passwd: 644
# /etc/shadow: 640 –∏–ª–∏ 000
# /etc/sudoers: 440
# /etc/ssh/sshd_config: 600

# 3. –ù–∞–π–¥–∏—Ç–µ —Ñ–∞–π–ª—ã, –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –≤—Å–µ–º–∏:
find /etc /usr /bin /sbin -perm -o+w -type f 2>/dev/null
```

### –ó–∞–¥–∞–Ω–∏–µ 3: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ /proc

```bash
# 1. –ù–∞–π–¥–∏—Ç–µ PID –ø—Ä–æ—Ü–µ—Å—Å–∞ sshd:
pgrep sshd
SSH_PID=$(pgrep sshd | head -1)

# 2. –ò–∑—É—á–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ—Å—Å–µ:
cat /proc/$SSH_PID/cmdline | tr '\0' ' '
cat /proc/$SSH_PID/status
ls -la /proc/$SSH_PID/fd/

# 3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ /proc:
cat /proc/net/tcp
# –î–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ –∞–¥—Ä–µ—Å 0100007F:0050 (—á—Ç–æ —ç—Ç–æ?)
```

### –ó–∞–¥–∞–Ω–∏–µ 4: –ü–æ–∏—Å–∫ —Å–ª–µ–¥–æ–≤ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —Ä–µ–∞–≥–∏—Ä—É–µ—Ç–µ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–¥–∞–≤–Ω–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞)
find / -mtime -1 -type f 2>/dev/null | grep -v "^/proc\|^/sys\|^/run" | sort

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å cron-–∑–∞–¥–∞–Ω–∏—è
crontab -l 2>/dev/null
sudo crontab -l 2>/dev/null
ls -la /etc/cron* /var/spool/cron/

# –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å—ã–≤–∞–µ–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ PATH
echo $PATH | tr ':' '\n' | xargs ls -la

# –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .bashrc –∏ .bash_profile –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
for user_home in /home/* /root; do
    echo "=== $user_home ==="
    cat "$user_home/.bashrc" 2>/dev/null
    cat "$user_home/.bash_profile" 2>/dev/null
done

# –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SSH-–∫–ª—é—á–∏
find /home /root -name "authorized_keys" -exec cat {} \;
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FHS:** https://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html
- **man pages:** `man hier` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã Linux
- **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:** `man find`, `man stat`, `man ls`, `man mount`
- **Linux Filesystem Security:** CIS Benchmarks for Linux ‚Äî https://www.cisecurity.org/benchmark/ubuntu_linux
- **SANS Linux Cheat Sheet:** https://www.sans.org/blog/the-ultimate-list-of-sans-cheat-sheets/
- **–ö–Ω–∏–≥–∞:** ¬´The Linux Command Line¬ª by William Shotts (–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ http://linuxcommand.org)
- **–ü—Ä–∞–∫—Ç–∏–∫–∞:** TryHackMe ‚Äî Linux Fundamentals (1, 2, 3), HackTheBox ‚Äî Starting Point

---

## ‚úÖ –ò—Ç–æ–≥–∏ –≥–ª–∞–≤—ã

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã –∏–∑—É—á–∏–ª–∏:

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç FHS** ‚Äî Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å –∫–æ—Ä–Ω–µ–º `/`, –≥–¥–µ –∫–∞–∂–¥–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∏–º–µ–µ—Ç —á—ë—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ.

2. **–ö–ª—é—á–µ–≤—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:**
   - `/etc` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
   - `/var/log` ‚Äî –ª–æ–≥–∏ (–æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π)
   - `/proc` –∏ `/sys` ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –§–° —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —è–¥—Ä–µ –∏ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
   - `/tmp` ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –ü–û

3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** `pwd`, `cd`, `ls` ‚Äî –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã; `find` –∏ `locate` ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤; `find` —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –ø—Ä–∞–≤ (`-perm -4000`) ‚Äî –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

4. **–¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤:** Linux —Ä–∞–∑–ª–∏—á–∞–µ—Ç 7 —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã—Ö –ø–µ—Ä–≤—ã–º —Å–∏–º–≤–æ–ª–æ–º –≤ `ls -l`.

5. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –î–µ–≤—è—Ç–∏–±–∏—Ç–Ω–∞—è –º–æ–¥–µ–ª—å rwxrwxrwx –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞, –≥—Ä—É–ø–ø—ã –∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.

6. **–°–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã:** –ù–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `.`, —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (`.aws/credentials`, `.ssh/id_rsa`).

7. **–°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏:** –£–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏; –∂—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ ‚Äî –Ω–∞ inode.

8. **–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û–ø—Ü–∏–∏ `noexec`, `nosuid`, `nodev` –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

9. **–ü—É—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –ó–Ω–∞–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è `/etc/shadow`, `/var/log/auth.log`, `/proc/net/tcp` –∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî –æ—Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç—ã —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Linux.

